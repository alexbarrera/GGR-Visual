<head>
  <title>ggr-visual</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" sizes="16x16 32x32" href="/favicon.ico?v=2">
</head>

<body>
  <div class="container-fluid">
    <h1>GGR Visual</h1>
    <div class="row">
      <div class="col-md-4">
        <h2>Search</h2>
        {{> searchBox}}
        {{> searchResult}}
      </div>
      <div class="col-md-8 display_col hidden">
        {{> degs_chart}}
      <!--</div>-->
      <!--<div class="col-md-4"></div>-->
      <!--<div class="col-md-8 display_col">-->
        {{> peak_vizs}}
      </div>
    </div>
  </div>
</body>

<template name="searchBox">
  <label for="search-box">Gene</label>
  <input type="text" id="search-box" placeholder="search gene" autofocus>
</template>

<template name="searchResult">
  <div id='col-md-8 search-result'>
    <div id="search-meta">
      {{#if isLoading}}
        searching GGR database ...
      {{/if}}
    </div>

    {{#each getGenes}}
      <div class="matched_gene">
          {{{gene_name}}}
      </div>
    {{/each}}
  </div>
</template>

<template name="degs_chart">
      <h2>Gene Expression</h2>
      <h4>DEGs</h4>
      <div>
        <div>
          <button type="button" class="displayToggle">show log2 fold change</button>
        </div>
        <div>
          <button type="button" class="download-degs">Download</button>
        </div>
      </div>
      <div class="row">
        <div class="degs_container"></div>

      </div>
      <div class="row">
        <h4>Transcripts of: <span id="gene_name_span"></span></h4>
          <button type="button" class="download-tpms">Download</button>
        <div class="tpms_container"></div>
      </div>
</template>

<template name="peak_vizs">
  <div class="row">
    <h2>ChIPs</h2>
    <h4>Time of 100 nM DEX treatment (hs)</h4>
    <div class="slider_container"></div>
    <h4>Histone Mods.</h4>
    <button type="button" class="download-hist-mods">Download</button>
    <div class="hist_mod_container peak-viewer"></div>

    <h4>Transcription Factors</h4>
    <button type="button" class="download-tfs">Download</button>
    <div class="tf_container peak-viewer"></div>

    <h4>DNase-I Hypersensitive Sites</h4>
    <button type="button" class="download-dnases">Download</button>
    <div class="dnase_container peak-viewer"></div>

  </div>
</template>